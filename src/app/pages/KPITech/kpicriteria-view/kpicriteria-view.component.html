<!-- HEADER -->
<div class="modal-header bg-primary align-items-center ps-2" style="flex-shrink: 0">
    <h6 class="text-light text-uppercase m-0" style="padding: 0 0.5rem">
        Bảng tiêu chí đánh giá
    </h6>
    <button type="button" class="btn-close" (click)="closeModal()" aria-label="Close"
        style="background-color:lightcyan !important; font-weight: bold;"></button>
</div>
<!-- Modal Header với Year và Quarter -->
<div class="card-header bg-white p-1 d-flex gap-1 flex-wrap align-items-center toolbar" style="flex-shrink: 0;">
    <div style="display: flex; gap: 24px; align-items: center;">
        <!-- Năm -->
        <div style="display: flex; align-items: center; gap: 8px;">
            <label style="font-weight: 600; color: #333;">Năm:</label>
            <nz-input-number nzSize="small" [(ngModel)]="criteriaYear" [nzMin]="2024" [nzMax]="2100" [nzDisabled]="true"
                [nzStep]="1" style="width: 100px;">
            </nz-input-number>
        </div>

        <!-- Quý -->
        <div style="display: flex; align-items: center; gap: 8px;">
            <label style="font-weight: 600; color: #333;">Quý:</label>
            <nz-input-number nzSize="small" [(ngModel)]="criteriaQuarter" [nzMin]="1" [nzMax]="4" [nzDisabled]="true"
                [nzStep]="1" style="width: 100px;">
            </nz-input-number>
        </div>
    </div>
</div>

<!-- Grid hiển thị thang điểm đánh giá -->
<div class="evaluate-point-section" style="padding: 8px;">
    <div class="grid-evaluate-point-container" style="width: 100%; height: 100px;" *ngIf="gridsInitialized">
        <angular-slickgrid gridId="grid-evaluate-point" [columns]="evaluatePointColumns"
            [options]="evaluatePointGridOptions" [dataset]="dataEvaluatePoint"
            (onAngularGridCreated)="onEvaluatePointGridReady($event.detail)">
        </angular-slickgrid>
    </div>
</div>

<!-- Tab control -->
<div class="flex-grow-1" style="min-height: 0; overflow: hidden; flex: 1; padding: 0 8px;">
    <nz-tabset [(nzSelectedIndex)]="selectedTabIndex">
        <!-- Tab 1: Bảng tiêu chí -->
        <nz-tab nzTitle="BẢNG TIÊU CHÍ">
            <div class="grid-criteria-container" style="width: 100%; height: 500px;"
                *ngIf="gridsInitialized && selectedTabIndex === 0">
                <angular-slickgrid gridId="grid-criteria" [columns]="criteriaColumns" [options]="criteriaGridOptions"
                    [dataset]="dataCriteria" (onAngularGridCreated)="onCriteriaGridReady($event.detail)">
                </angular-slickgrid>
            </div>
        </nz-tab>

        <!-- Tab 2: Loại dự án -->
        <nz-tab nzTitle="LOẠI DỰ ÁN">
            <div class="grid-project-type-container" style="width: 100%; height: 500px;"
                *ngIf="gridsInitialized && selectedTabIndex === 1">
                <angular-slickgrid gridId="grid-project-type" [columns]="projectTypeColumns"
                    [options]="projectTypeGridOptions" [dataset]="dataProjectType"
                    (onAngularGridCreated)="onProjectTypeGridReady($event.detail)">
                </angular-slickgrid>
            </div>
        </nz-tab>
    </nz-tabset>
</div>