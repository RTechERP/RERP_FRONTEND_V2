<div class="modal-header bg-primary p-2">
    <h6 class="modal-title text-white" id="assetModalLabel">CẤP PHÁT TÀI SẢN</h6>
    <button type="button" class="btn-close" aria-label="Close" (click)="close()"></button>
</div>

<div class="modal-body">
    <form nz-form nzLayout="vertical" class="fs-7 mt-2 me-2">
        <nz-row [nzGutter]="24" class="fs-7 mt-2 me-2">
            <nz-col [nzSpan]="12">
                <nz-form-label>Số biên bản <span class="text-danger">(*)</span></nz-form-label>
                <nz-form-control>
                    <input nz-input [(ngModel)]="dataInput.Code" name="Code" readonly />
                </nz-form-control>
            </nz-col>
            <nz-col [nzSpan]="12">
                <nz-form-label>Ngày cấp phát <span class="text-danger">(*)</span></nz-form-label>
                <nz-form-control>
                    <input nz-input type="date" [(ngModel)]="dataInput.DateAllocation" name="DateAllocation" />
                </nz-form-control>
            </nz-col>
        </nz-row>

        <nz-row [nzGutter]="24" class="mt-2 me-2">
            <nz-col [nzSpan]="12" class="pe-0">
                <nz-form-label class="fs-12" [nzSpan]="12">Chọn nhân viên</nz-form-label>
                <nz-form-control [nzSpan]="24" class="pe-0">
                    <nz-select class="w-100 fs-12 pe-0" nzShowSearch nzAllowClear nzPlaceHolder="Chọn nhân viên..."
                        [(ngModel)]="dataInput.EmployeeID" name="employeeID" (ngModelChange)="onEmployeeChange($event)">
                        <nz-option *ngFor="let emp of emPloyeeLists" [nzLabel]="emp.Code + ' - ' + emp.FullName"
                            [nzValue]="emp.ID"></nz-option>
                    </nz-select>
                </nz-form-control>
            </nz-col>
            <nz-col [nzSpan]="12">
                <nz-form-label>Phòng ban</nz-form-label>
                <nz-form-control>
                    <input nz-input [(ngModel)]="dataInput.Name" name="DepartmentName" readonly />
                </nz-form-control>
            </nz-col>
        </nz-row>
        <nz-row [nzGutter]="24" class="mt-2 me-2">
            <nz-col [nzSpan]="12">
                <nz-form-label>Chức vụ</nz-form-label>
                <nz-form-control>
                    <input nz-input [(ngModel)]="dataInput.ChucVuHD" name="PositionName" readonly />
                </nz-form-control>
            </nz-col>
            <nz-col [nzSpan]="12">
                <nz-form-label>Ghi chú</nz-form-label>
                <nz-form-control>
                    <textarea nz-input [(ngModel)]="dataInput.Note" name="Note" rows="3"
                        placeholder="Nhập ghi chú..."></textarea>
                </nz-form-control>
            </nz-col>
        </nz-row>
        <nz-row class="mt-3">
            <nz-col [nzSpan]="24">
                <button nz-button nzType="dashed" class="me-2 mt-2" (click)="openModalAsset()">
                    <i class="fas fa-plus me-2"></i>Chọn tài sản
                </button>
                <button nz-button nzType="dashed" (click)="addRow()">+ Thêm dòng</button>
            </nz-col>
        </nz-row>

        <nz-row class="mt-3 me-2">
            <nz-col [nzSpan]="24" class="mt-3 me-2">
                <div id="tableAsset" style="height: 100%;"></div>
            </nz-col>
        </nz-row>
    </form>
</div>
<div class="modal-footer">
    <button nz-button nzType="default" (click)="close()">Đóng</button>
    <button nz-button nzType="primary" (click)="saveAllocation()" *hasPermission="">Lưu dữ liệu</button>
</div>