<div class="modal-dialog-scrollable">
  <div class="modal-header bg-primary align-items-center ps-3">
    <div class="d-flex align-items-center">
      <h6 class="text-light text-uppercase m-0 fw-bold">Chi tiết</h6>
    </div>
  </div>

  <div class="modal-body p-3">

    <form nz-form class="container-fluid">

      <!-- Hàng đầu tiên -->
      <div nz-row [nzGutter]="16" class="mb-3">

        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label [nzSpan]="24" class="fw-semibold">
              Tháng
            </nz-form-label>
            <nz-form-control [nzSpan]="24">
              <nz-select [(ngModel)]="MonthValue" name="MonthValue" class="w-100" nzAllowClear nzPlaceHolder="Chọn tháng">
                @for (i of [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]; track
                $index) {
                <nz-option class="text-center" [nzValue]="i" [nzLabel]="'Tháng ' + i"></nz-option>
                }
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label [nzSpan]="24" class="fw-semibold">
              Năm
            </nz-form-label>
            <nz-form-control [nzSpan]="24">
              <nz-date-picker [(ngModel)]="YearValue" nzMode="year" name="YearValue" class="w-100"></nz-date-picker>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label [nzSpan]="24" class="fw-semibold">
              Họ và tên
            </nz-form-label>
            <nz-form-control [nzSpan]="24">
              <nz-select class="w-100" nzShowSearch nzAllowClear nzPlaceHolder="Chọn nhân viên"
                  (ngModelChange)="onEmployeeChange($event)" [(ngModel)]="EmployeeID" name="EmployeeID">
                  <ng-container *ngFor="let group of employees">
                    <nz-option-group [nzLabel]="'-- Phòng ban: ' + group.label">
                      <nz-option *ngFor="let option of group.options"
                        [nzLabel]="option.item.Code +' - '+ option.item.FullName" [nzValue]="option.item.ID">
                      </nz-option>
                    </nz-option-group>
                  </ng-container>
                </nz-select>
            </nz-form-control>

          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label [nzSpan]="24" class="fw-semibold">
              Thưởng KPIs
            </nz-form-label>
            <nz-form-control [nzSpan]="24">
              <input nz-input name="KPIBonus" type="number" [(ngModel)]="KPIBonus"/>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label [nzSpan]="24" class="fw-semibold">
              Thưởng khác
            </nz-form-label>
            <nz-form-control [nzSpan]="24">
              <input nz-input name="OtherBonus"  type="number" [(ngModel)]="OtherBonus" />
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label [nzSpan]="24" class="fw-semibold">
              Gửi xe ô tô
            </nz-form-label>
            <nz-form-control [nzSpan]="24">
              <input nz-input name="ParkingMoney"  type="number" [(ngModel)]="ParkingMoney"/>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label [nzSpan]="24" class="fw-semibold">
              Phạt 5s
            </nz-form-label>
            <nz-form-control [nzSpan]="24">
              <input nz-input name="Punish5S"  type="number" [(ngModel)]="Punish5S"/>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label [nzSpan]="24" class="fw-semibold">
              Khoản trừ khác
            </nz-form-label>
            <nz-form-control [nzSpan]="24">
              <input nz-input name="OtherDeduction"  type="number" [(ngModel)]="OtherDeduction"/>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label [nzSpan]="24" class="fw-semibold">
              BHXH
            </nz-form-label>
            <nz-form-control [nzSpan]="24">
              <input nz-input name="BHXH"  type="number" [(ngModel)]="BHXH"/>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label [nzSpan]="24" class="fw-semibold">
              Ứng lương
            </nz-form-label>
            <nz-form-control [nzSpan]="24">
              <input nz-input name="SalaryAdvance"  type="number"  [(ngModel)]="SalaryAdvance"/>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="24">
          <nz-form-item>
            <nz-form-label [nzSpan]="24" class="fw-semibold">
              Note
            </nz-form-label>
            <nz-form-control [nzSpan]="24">
              <textarea nz-input rows="6" name="Note" [(ngModel)]="Note"></textarea>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>
    </form>


  </div>

  <div class="modal-footer">
    <button nz-button nzType="default" nzDanger (click)="activeModal.dismiss()">
      Đóng
    </button>
    <button nz-button nzType="primary" (click)="onSubmit()">
      <i class="fas fa-save me-1"></i>
      Lưu
    </button>
  </div>
</div>