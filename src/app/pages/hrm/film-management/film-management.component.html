<ng-container class="w-100">
  <nz-splitter style="height:95vh;">
    <nz-splitter-panel>
      <div class="card h-100 d-flex flex-column border-0 rounded-0">
        <div class="card-header bg-white p-1">
          <div class="d-flex h-40 gap-1 justify-content-between align-items-center">
            <div class="d-flex gap-1">
              <button class="fs-12 btn-add" nz-button nzType="default" nzSize="small" (click)="onAddFilm()" *hasPermission="'N1,N44'">
                <img src="assets/icon/action_add_item_16.png" /> Thêm
              </button>
              <button class="fs-12 btn-edit" nz-button nzType="default" nzSize="small" (click)="onEditFilm()" *hasPermission="'N1,N44'">
                <img src="assets/icon/action_edit_item_16.png" /> Sửa
              </button>
              <button class="fs-12 btn-delete" nz-button nzType="default" nzSize="small" (click)="onDeleteFilm()" *hasPermission="'N1,N44'">
                <img src="assets/icon/action_delete_item_16.png" /> Xóa
              </button>
              <button class="fs-12" nz-button nzType="default" nzSize="small" (click)="openModalImportExcel()">
                <img src="assets/icon/action_import_16.png" /> Nhập excel
              </button>
            </div>
            
            <!-- Phần tìm kiếm bên phải -->
            <div class="d-flex gap-2 align-items-center">
              <input 
                nz-input 
                placeholder="Nhập từ khóa tìm kiếm..." 
                [(ngModel)]="filterText" 
                nzSize="small"
                style="width: 300px;"
                (ngModelChange)="searchFilm()" />
              <button nz-button nzType="primary" nzSize="small" (click)="searchFilm()">
                <nz-icon nzType="search"></nz-icon>
              </button>
            </div>
          </div>
        </div>

        <div class="card-body p-0 d-flex flex-column flex-1 min-h-0">
          <nz-splitter class="flex-1 min-h-0">
            <nz-splitter-panel [nzCollapsible]="true" nzResizable="true">
              <!-- dùng ViewChild -->
              <div #filmTableRef></div>
            </nz-splitter-panel>

            <nz-splitter-panel [nzCollapsible]="true" nzResizable="true" [nzSize]="sizeTbDetail">
              <!-- bảng chi tiết -->
              <ng-template #tabClose>
                <button nz-button nzType="text" class="btn-close-panel" style="color: red;" (click)="closePanel()">
                  <i nz-icon nzType="close"></i>
                </button>
              </ng-template>
              <nz-tabset style="padding-left: 10px !important;" [nzTabBarExtraContent]="tabClose">
                <nz-tab [nzTitle]="detailTabTitle">
                  <div #filmDetailTableRef></div>
                </nz-tab>
              </nz-tabset>
            </nz-splitter-panel>
          </nz-splitter>
        </div>
      </div>
    </nz-splitter-panel>
  </nz-splitter>
</ng-container>
