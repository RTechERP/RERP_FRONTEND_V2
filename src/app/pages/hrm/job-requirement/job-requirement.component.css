/* Set font-size 12px cho tất cả các bảng SlickGrid (trừ badge) */
#jobRequirementGridContainer,
#jobRequirementGridContainer *:not(.badge):not(.badge *),
#jobRequirementDetailGridContainer,
#jobRequirementDetailGridContainer *:not(.badge):not(.badge *),
#jobRequirementFileGridContainer,
#jobRequirementFileGridContainer *:not(.badge):not(.badge *),
#jobRequirementApprovedGridContainer,
#jobRequirementApprovedGridContainer *:not(.badge):not(.badge *) {
  font-size: 12px !important;
}

/* Đảm bảo tất cả text trong bảng đều 12px */
#jobRequirementGridContainer .slick-cell,
#jobRequirementGridContainer .slick-header-column,
#jobRequirementDetailGridContainer .slick-cell,
#jobRequirementDetailGridContainer .slick-header-column,
#jobRequirementFileGridContainer .slick-cell,
#jobRequirementFileGridContainer .slick-header-column,
#jobRequirementApprovedGridContainer .slick-cell,
#jobRequirementApprovedGridContainer .slick-header-column {
  font-size: 12px !important;
}

:host {
  font-size: 12px !important;
}

.card {
  display: flex;
  flex-direction: column;
  height: 100%;
  max-height: 93vh;
  overflow: hidden;
}

.card-body {
  flex: 1 1 auto;
  min-height: 0;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.card-body>div {
  flex: 1 1 auto;
  min-height: 0;
  overflow: hidden;
}

/* Set font-size 10px cho các badge duyệt - độ ưu tiên cao nhất */
#jobRequirementGridContainer .badge,
#jobRequirementGridContainer .slick-cell .badge,
#jobRequirementGridContainer .badge span,
#jobRequirementGridContainer .badge *,
#jobRequirementDetailGridContainer .badge,
#jobRequirementDetailGridContainer .slick-cell .badge,
#jobRequirementDetailGridContainer .badge span,
#jobRequirementDetailGridContainer .badge *,
#jobRequirementFileGridContainer .badge,
#jobRequirementFileGridContainer .slick-cell .badge,
#jobRequirementFileGridContainer .badge span,
#jobRequirementFileGridContainer .badge *,
#jobRequirementApprovedGridContainer .badge,
#jobRequirementApprovedGridContainer .slick-cell .badge,
#jobRequirementApprovedGridContainer .badge span,
#jobRequirementApprovedGridContainer .badge * {
  font-size: 10px !important;
  padding: 2px 6px !important;
  line-height: 1.2 !important;
}

/* Enable proper horizontal scrolling for slickgrid */
#jobRequirementGridContainer .slick-viewport,
#jobRequirementDetailGridContainer .slick-viewport,
#jobRequirementFileGridContainer .slick-viewport,
#jobRequirementApprovedGridContainer .slick-viewport {
  overflow-x: auto !important;
  overflow-y: auto !important;
  width: 100% !important;
}

/* Ensure grid containers don't restrict scrolling */
#jobRequirementGridContainer,
#jobRequirementDetailGridContainer,
#jobRequirementFileGridContainer {
  width: 100% !important;
  height: 100% !important;
  overflow: visible !important;
}

/* Bảng Approved cần overflow auto để scroll ngang */
#jobRequirementApprovedGridContainer {
  width: 100% !important;
  height: 100% !important;
  overflow: auto !important;
}

/* Allow grid canvas to expand horizontally */
#jobRequirementGridContainer .slick-grid,
#jobRequirementDetailGridContainer .slick-grid,
#jobRequirementFileGridContainer .slick-grid,
#jobRequirementApprovedGridContainer .slick-grid {
  width: auto !important;
  min-width: 100% !important;
}

/* Prevent text truncation but allow scrolling */
#jobRequirementGridContainer .slick-cell,
#jobRequirementDetailGridContainer .slick-cell,
#jobRequirementFileGridContainer .slick-cell,
#jobRequirementApprovedGridContainer .slick-cell {
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}

::ng-deep #jobRequirementGrid {
  min-height: 47vh !important;
}

::ng-deep #jobRequirementFileGrid {
  min-height: 47vh !important;
}

::ng-deep #jobRequirementApprovedGrid .row-approved .slick-cell {
  background-color: #afe7bc !important;
  color: #313131 !important;
}

::ng-deep #jobRequirementApprovedGrid .row-cancelled .slick-cell {
  background-color: #db989e !important;
  color: #232323 !important;
}

::ng-deep #jobRequirementApprovedGrid {
  min-height: 37vh !important;
}

/* Search form positioning and z-index fixes */
.filter-bar {
  position: relative;
  z-index: 10;
  background: #f8f9fa;
  border-bottom: 1px solid #dee2e6;
}

/* Ensure buttons stay above search form on desktop */
.card-header {
  position: relative;
  z-index: 20;
  background: white;
}

/* Mobile modal styles */
@media (max-width: 768px) {
  .filter-bar.mobile-modal {
    position: fixed;
    top: 60px;
    left: 0;
    right: 0;
    z-index: 1050;
    background: white;
    border-bottom: 1px solid #dee2e6;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    max-height: 70vh;
    overflow-y: auto;
    margin: 16px;
    border-radius: 8px;
  }

  .filter-backdrop {
    display: block;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.3);
    z-index: 1040;
  }
}

/* Desktop - keep search form always visible */
@media (min-width: 769px) {
  .filter-backdrop {
    display: none !important;
  }

  .filter-bar {
    position: static !important;
    z-index: 1 !important;
  }
}