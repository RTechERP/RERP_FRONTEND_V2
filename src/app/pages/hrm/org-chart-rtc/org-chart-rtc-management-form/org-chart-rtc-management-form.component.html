<div class="modal-header bg-primary py-2">
    <h6 class="modal-title text-white">{{ isEdit ? 'Sửa Team' : 'Thêm Team' }}</h6>
    <button type="button" class="btn-close" aria-label="Close" (click)="onClose()"></button>
</div>

<div class="modal-body">
    <form nz-form [formGroup]="form" nzLayout="vertical" class="fs-7 mt-2">
        <nz-row [nzGutter]="24">
            <!-- Công ty -->
            <nz-col [nzSpan]="12">
                <nz-form-item>
                    <nz-form-label class="fs-12 p-0" [nzSpan]="24">Công ty<span class="text-danger ps-1">(*)</span></nz-form-label>
                    <nz-form-control [nzSpan]="24" nzErrorTip="Vui lòng chọn công ty">
                        <nz-select formControlName="TaxCompanyID" nzPlaceHolder="Chọn công ty" nzShowSearch nzAllowClear style="width: 100%;">
                            <nz-option *ngFor="let item of taxCompanyList" [nzValue]="item.ID" [nzLabel]="item.Name"></nz-option>
                        </nz-select>
                    </nz-form-control>
                </nz-form-item>
            </nz-col>

            <!-- Phòng ban -->
            <nz-col [nzSpan]="12">
                <nz-form-item>
                    <nz-form-label class="fs-12 p-0" [nzSpan]="24">Phòng ban<span class="text-danger ps-1">(*)</span></nz-form-label>
                    <nz-form-control [nzSpan]="24" nzErrorTip="Vui lòng chọn phòng ban">
                        <nz-select formControlName="DepartmentID" nzPlaceHolder="Chọn phòng ban" nzShowSearch nzAllowClear style="width: 100%;">
                            <nz-option *ngFor="let item of departmentList" [nzValue]="item.ID" [nzLabel]="item.Name"></nz-option>
                        </nz-select>
                    </nz-form-control>
                </nz-form-item>
            </nz-col>
        </nz-row>

        <nz-row [nzGutter]="24">
            <!-- Mã -->
            <nz-col [nzSpan]="12">
                <nz-form-item>
                    <nz-form-label class="fs-12 p-0" [nzSpan]="24">Mã</nz-form-label>
                    <nz-form-control [nzSpan]="24">
                        <input nz-input formControlName="Code" placeholder="Nhập mã" />
                    </nz-form-control>
                </nz-form-item>
            </nz-col>

            <!-- Tên -->
            <nz-col [nzSpan]="12">
                <nz-form-item>
                    <nz-form-label class="fs-12 p-0" [nzSpan]="24">Tên</nz-form-label>
                    <nz-form-control [nzSpan]="24">
                        <input nz-input formControlName="Name" placeholder="Nhập tên" />
                    </nz-form-control>
                </nz-form-item>
            </nz-col>
        </nz-row>

        <nz-row [nzGutter]="24">
            <!-- Team cha -->
            <nz-col [nzSpan]="12">
                <nz-form-item>
                    <nz-form-label class="fs-12 p-0" [nzSpan]="24">Team cha</nz-form-label>
                    <nz-form-control [nzSpan]="24">
                        <nz-tree-select
                            formControlName="ParentID"
                            nzPlaceHolder="Chọn team cha"
                            nzShowSearch
                            nzAllowClear
                            [nzNodes]="parentTeamNodes"
                            style="width: 100%;">
                        </nz-tree-select>
                    </nz-form-control>
                </nz-form-item>
            </nz-col>

            <!-- Leader -->
            <nz-col [nzSpan]="12">
                <nz-form-item>
                    <nz-form-label class="fs-12 p-0" [nzSpan]="24">Leader</nz-form-label>
                    <nz-form-control [nzSpan]="24">
                        <nz-select formControlName="EmployeeID" nzPlaceHolder="Chọn leader" nzShowSearch nzAllowClear style="width: 100%;">
                            <nz-option *ngFor="let item of employeeList" [nzValue]="item.ID" [nzLabel]="item.FullName"></nz-option>
                        </nz-select>
                    </nz-form-control>
                </nz-form-item>
            </nz-col>
        </nz-row>
    </form>
</div>

<div class="modal-footer">
    <button nz-button nzDanger nzType="default" (click)="onClose()">Đóng</button>
    <button nz-button nzType="primary" (click)="onSaveAndNew()" *ngIf="!isEdit">Lưu</button>
    <button nz-button nzType="primary" (click)="onSave()">Lưu & Đóng</button>
</div>
