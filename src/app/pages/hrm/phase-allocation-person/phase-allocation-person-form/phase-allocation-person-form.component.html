<div class="modal-header bg-primary p-2">
  <h6 class="modal-title text-white" id="phaseAllocationModalLabel">Cấp phát</h6>
  <button type="button" class="btn-close" aria-label="Close" (click)="close()"></button>
</div>

<div class="modal-body" style="max-height: 60vh; overflow-y: auto; overflow-x: hidden;">
  <form nz-form [formGroup]="formMaster" nzLayout="vertical" class="fs-7 mt-1 tab-content-equal-height">
    <nz-row [nzGutter]="24">
      <nz-col [nzSpan]="6">
        <nz-form-item>
          <nz-form-label>Năm<span style="color: red">(*)</span></nz-form-label>
          <nz-form-control>
            <nz-select formControlName="Year" nzSize="default">
              <nz-option *ngFor="let year of yearOptions" [nzValue]="year" [nzLabel]="year.toString()"></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </nz-col>

      <nz-col [nzSpan]="6">
        <nz-form-item>
          <nz-form-label>Tháng<span style="color: red">(*)</span></nz-form-label>
          <nz-form-control>
            <nz-select formControlName="Month" nzSize="default">
              <nz-option *ngFor="let month of monthOptions" [nzValue]="month.value" [nzLabel]="month.label"></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </nz-col>

      <nz-col [nzSpan]="6">
        <nz-form-item>
          <nz-form-label>Loại cấp phát<span style="color: red">(*)</span></nz-form-label>
          <nz-form-control [nzErrorTip]="'Vui lòng Chọn loại cấp phát'">
            <nz-select formControlName="TypeAllocation" nzSize="default">
              <nz-option *ngFor="let type of typeAllocationOptions" [nzValue]="type.value" [nzLabel]="type.label"></nz-option>
            </nz-select>
            <!-- <input nz-input formControlName="" name="" placeholder="Chọn Loại cấp phát" /> -->
          </nz-form-control>
        </nz-form-item>
      </nz-col>
      <nz-col [nzSpan]="6">
        <nz-form-item>
          <nz-form-label>Mã cấp phát<span style="color: red">(*)</span></nz-form-label>
          <nz-form-control [nzErrorTip]="'Vui lòng nhập mã cấp phát'">
            <input nz-input formControlName="Code" name="Code" placeholder="Nhập mã cấp phát" />
          </nz-form-control>
        </nz-form-item>
      </nz-col>
    </nz-row>

    <nz-row [nzGutter]="24">
      <nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label>Nội dung cấp phát<span style="color: red">(*)</span></nz-form-label>
          <nz-form-control [nzErrorTip]="'Vui lòng nhập nội dung cấp phát'">
            <input nz-input formControlName="Name" name="Name" placeholder="Nhập nội dung cấp phát"/>
          </nz-form-control>
        </nz-form-item>
      </nz-col>
    </nz-row>
  </form>

  <div class="mt-2">
    <div class="d-flex align-items-center justify-content-between mb-2">
      <h6 class="mb-0">Danh sách nhân viên</h6>
      <button class="fs-12" nz-button nzType="default" nzSize="small" (click)="openChooseEmployee()">
        Chọn nhân viên
      </button>
    </div>

    <div id="detailTable"></div>
  </div>

</div>

<!-- Footer nút -->
<div class="modal-footer">
  <button nz-button nzType="default" nzDanger (click)="close()">Đóng</button>
  <button nz-button nzType="primary" (click)="saveData()" *hasPermission="'N1,N44'">Lưu</button>
</div>

