<div class="modal-content">
  <div class="modal-header bg-primary p-2">
    <h6 class="modal-title text-uppercase text-white m-0">{{ isEdit ? 'Sửa ý tưởng' : 'Thêm ý tưởng' }}</h6>
    <button type="button" class="btn-close btn-close-white" (click)="close()"></button>
  </div>

  <div class="modal-body p-3">
    <form [formGroup]="form" nz-form nzLayout="vertical">
      <div nz-row [nzGutter]="16">
        <div nz-col nzSpan="16">
          <div nz-row [nzGutter]="16">
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label>Người đề xuất ý tưởng</nz-form-label>
                <nz-form-control>
                  <input nz-input [value]="currentEmployeeName" readonly />
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label>Thuộc bộ phận</nz-form-label>
                <nz-form-control>
                  <input nz-input [value]="currentDepartmentName" readonly />
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>

          <div nz-row [nzGutter]="16">
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label nzRequired>Ngày bắt đầu</nz-form-label>
                <nz-form-control [nzErrorTip]="'Vui lòng chọn ngày bắt đầu'">
                  <nz-date-picker
                    formControlName="dateStart"
                    nzFormat="dd/MM/yyyy"
                    nzPlaceHolder="Chọn ngày bắt đầu"
                    style="width: 100%;">
                  </nz-date-picker>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label nzRequired>Ngày kết thúc</nz-form-label>
                <nz-form-control [nzErrorTip]="'Vui lòng chọn ngày kết thúc'">
                  <nz-date-picker
                    formControlName="dateEnd"
                    nzFormat="dd/MM/yyyy"
                    nzPlaceHolder="Chọn ngày kết thúc"
                    style="width: 100%;">
                  </nz-date-picker>
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>

          <div nz-row [nzGutter]="16">
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label>Phòng ban phối hợp</nz-form-label>
                <nz-form-control>
                  <nz-select
                    formControlName="departmentOrganizationID"
                    nzShowSearch
                    nzAllowClear
                    nzPlaceHolder="Chọn phòng ban">
                    <nz-option [nzValue]="0" nzLabel="--Chọn phòng ban--"></nz-option>
                    <nz-option *ngFor="let dept of departments" [nzValue]="dept.ID" [nzLabel]="dept.Name"></nz-option>
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label>Loại đề tài</nz-form-label>
                <nz-form-control>
                  <nz-select
                    formControlName="registerIdeaTypeID"
                    nzShowSearch
                    nzAllowClear
                    nzPlaceHolder="Chọn đề tài">
                    <nz-option [nzValue]="0" nzLabel="--Chọn đề tài--"></nz-option>
                    <nz-option *ngFor="let type of registerTypes" [nzValue]="type.ID" [nzLabel]="type.Name"></nz-option>
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
        </div>

        <div nz-col nzSpan="8">
          <nz-form-item>
            <nz-form-label>File đính kèm</nz-form-label>
            <nz-form-control>
              <input type="file" multiple (change)="onSelectFile($event)" class="form-control form-control-sm mb-2" />
              <div #tb_File id="tb_File" style="height: 165px;"></div>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>
    </form>

    <div class="mt-3">
      <h6 class="mb-2">Chi tiết ý tưởng</h6>
      <div #tb_Detail id="tb_Detail" style="height: 300px;"></div>
    </div>
  </div>

  <div class="modal-footer bg-whitesmoke p-2 border-top">
    <button nz-button nzType="default" nzDanger (click)="close()">Đóng</button>

    <button nz-button nzType="primary" (click)="save()">
      <span nz-icon nzType="save"></span> {{ isEdit ? 'Cập nhật' : 'Thêm mới' }}
    </button>
  </div>
</div>

