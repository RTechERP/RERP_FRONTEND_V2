<ng-container class="w-100">
  <div class="card h-100 d-flex flex-column border-0 rounded-0">
    <div class="card-header bg-white p-1">
      <div class="d-flex h-40 gap-1 justify-content-between align-items-center">
        <div class="d-flex gap-1">
          <button class="fs-12 btn-add" nz-button nzType="default" nzSize="small" (click)="onAddQRCode()"
            *hasPermission="'N26,N1,N80'">
            <img src="assets/icon/action_add_item_16.png" /> Thêm
          </button>
          <button class="fs-12 btn-edit" nz-button nzType="default" nzSize="small" (click)="onEditQRCode()"
            *hasPermission="'N26,N1,N80'">
            <img src="assets/icon/action_edit_item_16.png" /> Sửa
          </button>
          <button class="fs-12 btn-delete" nz-button nzType="default" nzSize="small" (click)="onDeleteQRCode()"
            *hasPermission="'N26,N1,N80'">
            <img src="assets/icon/action_delete_item_16.png" /> Xóa
          </button>
          <button class="fs-12" nz-button nzType="default" nzSize="small" (click)="exportExcel()">
            <img src="assets/icon/action_export_excel_16.png" /> Xuất Excel
          </button>
          <button class="fs-12" nz-button nzType="default" nzSize="small" (click)="openModalImportExcel()" *hasPermission="'N26,N1,N80'">
            <img src="assets/icon/action_import_16.png" /> Nhập Excel
          </button>
        </div>

        <!-- Phần tìm kiếm và set vị trí bên phải -->
        <div class="d-flex gap-2 align-items-center">
          <nz-select 
            [(ngModel)]="selectedModulaLocationID" 
            nzShowSearch 
            nzAllowClear 
            nzPlaceHolder="Chọn vị trí modula"
            nzSize="small"
            style="width: 250px;"
            [nzFilterOption]="filterOption">
            <nz-option-group 
              *ngFor="let group of modulaLocationGroups" 
              [nzLabel]="group.label">
              <nz-option 
                *ngFor="let option of group.options" 
                [nzValue]="option.value" 
                [nzLabel]="option.label">
              </nz-option>
            </nz-option-group>
          </nz-select>
          <button nz-button nzType="default" nzSize="small" (click)="onSetModulaLocation()" class="fs-12 btn-set">
            Set
          </button>
          <input nz-input placeholder="Nhập từ khóa tìm kiếm..." [(ngModel)]="filterText" nzSize="small"
            style="width: 300px;" (ngModelChange)="searchQRCode()" />
          <button nz-button nzType="primary" nzSize="small" (click)="searchQRCode()">
            <nz-icon nzType="search"></nz-icon>
          </button>
        </div>
      </div>
    </div>

    <div class="card-body p-0 d-flex flex-column flex-1 min-h-0">
      <div #qrCodeTableRef></div>
    </div>
  </div>
</ng-container>
