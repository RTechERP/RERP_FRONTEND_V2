<!-- <ng-container class="w-100">
    <nz-splitter>
        <nz-splitter-panel [nzSize]="sizeSearch" nzResizable="false">
            <div class="card h-100 border-0 rounded-0">
                <div class="card-header bg-white p-1">
                    <div class="d-flex justify-content-between align-items-center">
                        <h6 class="m-0 ms-2">Tìm kiếm</h6>
                        <button class="border-0 me-2" nz-button nzSize="small" nzType="default" nzDanger
                            (click)="ToggleSearchPanel()">
                            <nz-icon nzType="close" nzTheme="outline" />
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <form nz-form nzLayout="vertical">
                        <nz-form-item>
                            <nz-form-label class="fs-12" [nzSpan]="24">Từ ngày</nz-form-label>
                            <nz-form-control [nzSpan]="24">
                                <nz-date-picker [(ngModel)]="filters.dateStart" name="dateStart" nzFormat="dd/MM/yyyy"
                                    class="w-100" nzSize="small"></nz-date-picker>
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item class="mt-2">
                            <nz-form-label class="fs-12" [nzSpan]="24">Đến ngày</nz-form-label>
                            <nz-form-control [nzSpan]="24">
                                <nz-date-picker [(ngModel)]="filters.dateEnd" name="dateEnd" nzFormat="dd/MM/yyyy"
                                    class="w-100" nzSize="small"></nz-date-picker>
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item class="mt-2">
                            <nz-form-label class="fs-12" [nzSpan]="24">Trạng thái</nz-form-label>
                            <nz-form-control [nzSpan]="24">
                                <nz-select class="w-100" [(ngModel)]="filters.statusRequest" nzShowSearch nzAllowClear
                                    nzSize="small" name="statusRequest" nzPlaceHolder="trạng thái">
                                    <nz-option [nzValue]="1" nzLabel="Tất cả"></nz-option>
                                    <nz-option [nzValue]="2" nzLabel="Yêu cầu báo giá"></nz-option>
                                    <nz-option [nzValue]="3" nzLabel="Đã báo giá"></nz-option>
                                    <nz-option [nzValue]="4" nzLabel="Đã hoàn thành"></nz-option>
                                    <nz-option [nzValue]="5" nzLabel="Yêu cầu check lại"></nz-option>
                                    <nz-option [nzValue]="6" nzLabel="Từ chối báo giá"></nz-option>
                                </nz-select>
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item class="mt-2">
                            <nz-form-label class="fs-12" [nzSpan]="24">Chọn dự án</nz-form-label>
                            <nz-form-control [nzSpan]="24">
                                <nz-select class="w-100" [(ngModel)]="filters.projectId" name="projectId" nzShowSearch
                                    nzAllowClear nzSize="small" nzPlaceHolder="Chọn dự án">
                                    <nz-option *ngFor="let item of dtproject"
                                        [nzLabel]="item.ProjectCode + '--' + item.ProjectName"
                                        [nzValue]="item.ID"></nz-option>
                                </nz-select>
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item class="mt-2">
                            <nz-form-label class="fs-12" [nzSpan]="24">Từ khóa</nz-form-label>
                            <nz-form-control [nzSpan]="24">
                                <input nz-input placeholder="Nhập từ khóa" nzSize="small" [(ngModel)]="filters.keyword"
                                    name="keyword" />
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item class="mt-2">
                            <nz-form-label class="fs-12" [nzSpan]="24">PO:</nz-form-label>
                            <nz-form-control [nzSpan]="24">
                                <nz-select class="w-100" nzShowSearch nzAllowClear nzPlaceHolder="Chọn PO"
                                    nzSize="small" [(ngModel)]="filters.poKHID" name="poKHID">
                                    <nz-option *ngFor="let item of dtPOKH" [nzLabel]="item.POCode"
                                        [nzValue]="item.ID"></nz-option>
                                </nz-select>
                            </nz-form-control>
                        </nz-form-item>
                    </form>
                </div>
                <div class="card-footer bg-white p-1 d-flex gap-1 justify-content-end">
                    <button nz-button nzType="default" nzSize="small" (click)="ResetFilters()">
                        Đặt lại
                    </button>
                    <button nz-button nzType="primary" nzSize="small" (click)="ApplyFilters()">
                        Tìm kiếm
                    </button>
                </div>
            </div>
        </nz-splitter-panel>
        <nz-splitter-panel nzDefaultSize="100%">
            <div class="card h-100 border-0 rounded-0">
                <div class="card-header bg-white p-1">
                    <div class="d-flex gap-1" horizontalScroll>
                        <button nz-button nzType="default" nzSize="small" (click)="ToggleSearchPanel()">
                            <nz-icon nzType="search" />
                        </button>
                        <button *hasPermission="'N27,N34,N69,N80'" nz-button class="btn-add" nzType="default"
                            (click)="OnAddClick()" nzSize="small">
                            <img src="assets/icon/action_add_item_16.png" /> Thêm
                        </button>
                        <button *hasPermission="'N27,N34,N69,N80'" nz-button class="btn-edit" nzType="default"
                            (click)="OnEditClick()" nzSize="small">
                            <img src="assets/icon/action_edit_item_16.png" />Sửa
                        </button>
                        <button *hasPermission="'N35,N1'" nz-button nzType="default" (click)="OnSaveData()"
                            nzSize="small">
                            <img class="btn-action-icon" src="assets/icon/action_save_24.svg" />Lưu dữ liệu
                        </button>

                        <button *hasPermission="'N35,N1'" nz-button nzType="default" (click)="CheckPrice(true)"
                            nzSize="small">
                            <img class="btn-action-icon" src="assets/icon/action_check_24.svg" />Check giá
                        </button>
                        <button *hasPermission="'N35,N1'" nz-button nzType="default" (click)="CheckPrice(false)"
                            nzSize="small">
                            <img class="btn-action-icon" src="assets/icon/action_cancle_24.svg" />Hủy check giá
                        </button>
                        <button nz-button nzType="default" (click)="QuotePrice()" *hasPermission="'N35,N1'"
                            nzSize="small">
                            <img class="btn-action-icon" src="assets/icon/action_check_24.svg" />Báo giá
                        </button>
                        <button nz-button nzType="default" (click)="QuotePrice(1)" *hasPermission="'N35,N1'"
                            nzSize="small">
                            <img class="btn-action-icon" src="assets/icon/action_cancle_24.svg" />Hủy báo giá
                        </button>
                        <button nz-button nzType="default" (click)="RejectPriceRequest()" *hasPermission="'N35,N1'"
                            nzSize="small">
                            <img class="btn-action-icon" src="assets/icon/action_reject.svg" />Từ chối báo giá
                        </button>
                        <button nz-button nzType="default" (click)="CancelRejectPriceRequest()"
                            *hasPermission="'N35,N1'" nzSize="small">
                            <img class="btn-action-icon" src="assets/icon/action_cancle_24.svg" />Hủy từ chối báo giá
                        </button>
                        <button nz-button nzType="default" (click)="QuotePrice(3)" *hasPermission="'N35,N1'"
                            nzSize="small">
                            <img class="btn-action-icon" src="assets/icon/action_check_24.svg" />Hoàn thành
                        </button>
                        <button nz-button nzType="default" (click)="QuotePrice(0)" *hasPermission="'N35,N1'"
                            nzSize="small">
                            <img class="btn-action-icon" src="assets/icon/action_cancle_24.svg" />Hủy hoàn thành
                        </button>
                        <button nz-button nzType="default" class="btn-delete" (click)="OnDeleteClick()"
                            *hasPermission="'N35,N1'" nzSize="small">
                            <img src="assets/icon/action_delete_item_16.png" />Xóa
                        </button>
                        <button nz-button nzType="default" (click)="DownloadFile()" *hasPermission="'N35,N1'"
                            nzSize="small">
                            <img class="btn-action-icon" src="assets/icon/action_dowload_file_24.svg" />Tải xuống
                        </button>
                        <button nz-button nzType="default" (click)="OpenAddSupplierModal()" *hasPermission="'N35,N1'"
                            nzSize="small">
                            <img class="btn-action-icon" src="assets/icon/action_add_24.svg" />Thêm nhà cung cấp
                        </button>
                        <button nz-button nzType="default" (click)="OpenRequestBuyModal()"
                            *hasPermission="'N34,N69,N80'" nzSize="small">
                            <img class="btn-action-icon" src="assets/icon/purchase_request.png " />Yêu cầu mua
                        </button>
                        <button nz-button nzType="default" (click)="OpenImportExcel()"
                            *hasPermission="'N27,N34,N69,N80'" nzSize="small">
                            <img class="btn-action-icon" src="assets/icon/action_import_excel_24.svg" />Nhập Excel
                        </button>
                        <div class="btn-group">
                            <button *hasPermission="'N27,N34,N69,N80'" nz-button nzType="default" nzSize="small"
                                nz-dropdown [nzDropdownMenu]="menu">
                                <img class="btn-action-icon" src="assets/icon/action_export_excel_16.png" />Xuất Excel
                                <i nz-icon nzType="down"></i>
                            </button>

                            <nz-dropdown-menu #menu="nzDropdownMenu">
                                <ul nz-menu>
                                    <li nz-menu-item (click)="ExportToExcelAdvanced()">
                                        <img src="assets/icon/row_16.png" />
                                        Theo dòng đã
                                        chọn
                                    </li>
                                    <li nz-menu-item (click)="ExportToExcelTab()">
                                        <img src="assets/icon/row_16.png" />Trang hiện
                                        tại
                                    </li>
                                    <li nz-menu-item (click)="ExportAllTabsToExcel()">
                                        <img src="assets/icon/row_16.png" />Tất cả
                                    </li>
                                </ul>
                            </nz-dropdown-menu>
                        </div>

                    </div>
                </div>
                <div class="card-body p-0">
                    <nz-splitter>
                        <nz-splitter-panel nzSize="" [nzCollapsible]="true" nzResizable="true">
                            <div class="custom-tabs-container">
                                <ul class="nav nav-tabs" id="customTab" role="tablist">
                                    <li class="nav-item" role="presentation"
                                        *ngFor="let type of getVisibleProjectTypes(); let i = index">
                                        <a class="nav-link" [class.active]="activeTabId === type.ProjectTypeID"
                                            [id]="'tab-' + type.ProjectTypeID"
                                            href="javascript:void(0)" role="tab"
                                            [attr.aria-controls]="'pane-' + type.ProjectTypeID"
                                            [attr.aria-selected]="activeTabId === type.ProjectTypeID"
                                            (click)="$event.preventDefault(); $event.stopPropagation(); SelectProjectType(type.ProjectTypeID, $event)">
                                            {{ type.ProjectTypeName | uppercase }}
                                        </a>
                                    </li>
                                </ul>

                                <div class="tab-content p-0" id="customTabContent">
                                    <div class="tab-pane fade" *ngFor="let type of getVisibleProjectTypes()"
                                        [class.show]="activeTabId === type.ProjectTypeID"
                                        [class.active]="activeTabId === type.ProjectTypeID"
                                        [id]="'pane-' + type.ProjectTypeID" role="tabpanel"
                                        [attr.aria-labelledby]="'tab-' + type.ProjectTypeID">
                                        <div class="table-container p-1">
                                            <div [id]="'datatable-' + type.ProjectTypeID"
                                                class="tabulator-container container-fluid p-0"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </nz-splitter-panel>
                    </nz-splitter>
                </div>
            </div>
        </nz-splitter-panel>
    </nz-splitter>
</ng-container>
<ng-template #rejectReasonTpl>
    <div class="mb-2">Vui lòng nhập lý do từ chối:</div>
    <textarea nz-input [(ngModel)]="rejectReason" rows="3" placeholder="Nhập lý do..." class="w-100"></textarea>
</ng-template>
<ng-template #requestBuyTpl>
    <div class="mb-2">
        <label class="form-label">Deadline</label>
        <nz-date-picker [(ngModel)]="requestBuyDeadline" nzFormat="dd/MM/yyyy" class="w-100"
            nzSize="small"></nz-date-picker>
    </div>
    <div class="text-muted">Chỉ cần nhập Deadline. Các thông tin khác (VPP, JobRequirementID) đã có sẵn từ Input.</div>
</ng-template>
<app-tabulator-popup *ngIf="showSupplierPopup" [data]="dtSupplierSale" [columns]="supplierColumns"
    [searchFields]="supplierSearchFields" [height]="'300px'" (rowSelected)="onSupplierSelected($event)"
    (closed)="onSupplierPopupClosed()" [style.position]="'absolute'" [style.top]="supplierPopupPosition.top"
    [style.left]="supplierPopupPosition.left" [style.zIndex]="1000" [style.width]="'500px'"></app-tabulator-popup>
<app-project-partlist-price-request-form *ngIf="showDetailModal" [dataInput]="modalData"
    (formSubmitted)="OnFormSubmit()" (closeModal)="showDetailModal = false">
</app-project-partlist-price-request-form> -->

<ng-container class="w-100">
    <div class="card h-100 border-0 rounded-0">
        <!-- Header với các nút action -->
        <div class="card-header bg-white p-1">
            <div class="d-flex gap-1" horizontalScroll>
                <button nz-button nzType="default" nzSize="small" (click)="ToggleSearchPanelNew()" class="sticky-toggle-btn">
                    <nz-icon [nzType]="showSearchBar ? 'up' : 'down'" />
                </button>
                <button *hasPermission="'N27,N34,N69,N80'" nz-button class="btn-add" nzType="default"
                    (click)="OnAddClick()" nzSize="small">
                    <img src="assets/icon/action_add_item_16.png" /> Thêm
                </button>
                <button *hasPermission="'N27,N34,N69,N80'" nz-button class="btn-edit" nzType="default"
                    (click)="OnEditClick()" nzSize="small">
                    <img src="assets/icon/action_edit_item_16.png" />Sửa
                </button>
                <button *hasPermission="'N35,N1'" nz-button nzType="default" (click)="OnSaveData()"
                    nzSize="small">
                    <img class="btn-action-icon" src="assets/icon/action_save_24.svg" />Lưu dữ liệu
                </button>
                <button *hasPermission="'N35,N1'" nz-button nzType="default" (click)="CheckPrice(true)"
                    nzSize="small">
                    <img class="btn-action-icon" src="assets/icon/action_check_24.svg" />Check giá
                </button>
                <button *hasPermission="'N35,N1'" nz-button nzType="default" (click)="CheckPrice(false)"
                    nzSize="small">
                    <img class="btn-action-icon" src="assets/icon/action_cancle_24.svg" />Hủy check giá
                </button>
                <button nz-button nzType="default" (click)="QuotePrice()" *hasPermission="'N35,N1'"
                    nzSize="small">
                    <img class="btn-action-icon" src="assets/icon/action_check_24.svg" />Báo giá
                </button>
                <button nz-button nzType="default" (click)="QuotePrice(1)" *hasPermission="'N35,N1'"
                    nzSize="small">
                    <img class="btn-action-icon" src="assets/icon/action_cancle_24.svg" />Hủy báo giá
                </button>
                <button nz-button nzType="default" (click)="RejectPriceRequest()" *hasPermission="'N35,N1'"
                    nzSize="small">
                    <img class="btn-action-icon" src="assets/icon/action_reject.svg" />Từ chối báo giá
                </button>
                <button nz-button nzType="default" (click)="CancelRejectPriceRequest()"
                    *hasPermission="'N35,N1'" nzSize="small">
                    <img class="btn-action-icon" src="assets/icon/action_cancle_24.svg" />Hủy từ chối báo giá
                </button>
                <button nz-button nzType="default" (click)="QuotePrice(3)" *hasPermission="'N35,N1'"
                    nzSize="small">
                    <img class="btn-action-icon" src="assets/icon/action_check_24.svg" />Hoàn thành
                </button>
                <button nz-button nzType="default" (click)="QuotePrice(0)" *hasPermission="'N35,N1'"
                    nzSize="small">
                    <img class="btn-action-icon" src="assets/icon/action_cancle_24.svg" />Chưa hoàn thành
                </button>
                <button nz-button nzType="default" class="btn-delete" (click)="OnDeleteClick()"
                    *hasPermission="'N1,N34,N69'" nzSize="small">
                    <img src="assets/icon/action_delete_item_16.png" />Xóa
                </button>
                <button nz-button nzType="default" (click)="DownloadFile()" *hasPermission="'N35,N1'"
                    nzSize="small">
                    <img class="btn-action-icon" src="assets/icon/action_dowload_file_24.svg" />Tải xuống
                </button>
                <button nz-button nzType="default" (click)="OpenAddSupplierModal()" *hasPermission="'N35,N1'"
                    nzSize="small">
                    <img class="btn-action-icon" src="assets/icon/action_add_24.svg" />Thêm nhà cung cấp
                </button>
                <button nz-button nzType="default" (click)="OpenRequestBuyModal()"
                    *hasPermission="'N34,N69,N80'" nzSize="small">
                    <img class="btn-action-icon" src="assets/icon/purchase_request.png " />Yêu cầu mua
                </button>
                <button nz-button nzType="default" (click)="OpenImportExcel()"
                    *hasPermission="'N27,N34,N69,N80'" nzSize="small">
                    <img class="btn-action-icon" src="assets/icon/action_import_excel_24.svg" />Nhập Excel
                </button>
                <div class="btn-group">
                    <button *hasPermission="'N27,N34,N69,N80'" nz-button nzType="default" nzSize="small"
                        nz-dropdown [nzDropdownMenu]="menu">
                        <img class="btn-action-icon" src="assets/icon/action_export_excel_16.png" />Xuất Excel
                        <i nz-icon nzType="down"></i>
                    </button>
                    <nz-dropdown-menu #menu="nzDropdownMenu">
                        <ul nz-menu>
                            <li nz-menu-item (click)="ExportToExcelAdvanced()">
                                <img src="assets/icon/row_16.png" />Theo dòng đã chọn
                            </li>
                            <li nz-menu-item (click)="ExportToExcelTab()">
                                <img src="assets/icon/row_16.png" />Trang hiện tại
                            </li>
                            <li nz-menu-item (click)="ExportAllTabsToExcel()">
                                <img src="assets/icon/row_16.png" />Tất cả
                            </li>
                        </ul>
                    </nz-dropdown-menu>
                </div>
            </div>
        </div>

        <!-- Filter bar - hiển thị dạng hàng ngang -->
        <div class="filter-bar bg-light border-bottom p-2" *ngIf="showSearchBar">
            <form nz-form nzLayout="inline" class="d-flex flex-wrap gap-2 align-items-end">
                <nz-form-item class="mb-0">
                    <nz-form-label class="fs-12">Từ ngày</nz-form-label>
                    <nz-form-control>
                        <nz-date-picker [(ngModel)]="filters.dateStart" name="dateStart" nzFormat="dd/MM/yyyy"
                            style="width: 150px" nzSize="small"></nz-date-picker>
                    </nz-form-control>
                </nz-form-item>
                
                <nz-form-item class="mb-0">
                    <nz-form-label class="fs-12">Đến ngày</nz-form-label>
                    <nz-form-control>
                        <nz-date-picker [(ngModel)]="filters.dateEnd" name="dateEnd" nzFormat="dd/MM/yyyy"
                            style="width: 150px" nzSize="small"></nz-date-picker>
                    </nz-form-control>
                </nz-form-item>
                
                <nz-form-item class="mb-0">
                    <nz-form-label class="fs-12">Trạng thái</nz-form-label>
                    <nz-form-control>
                        <nz-select style="width: 180px" [(ngModel)]="filters.statusRequest" nzShowSearch nzAllowClear
                            nzSize="small" name="statusRequest" nzPlaceHolder="trạng thái">
                            <nz-option [nzValue]="1" nzLabel="Tất cả"></nz-option>
                            <nz-option [nzValue]="2" nzLabel="Yêu cầu báo giá"></nz-option>
                            <nz-option [nzValue]="3" nzLabel="Đã báo giá"></nz-option>
                            <nz-option [nzValue]="4" nzLabel="Đã hoàn thành"></nz-option>
                            <nz-option [nzValue]="5" nzLabel="Yêu cầu check lại"></nz-option>
                            <nz-option [nzValue]="6" nzLabel="Từ chối báo giá"></nz-option>
                        </nz-select>
                    </nz-form-control>
                </nz-form-item>
                
                <nz-form-item class="mb-0">
                    <nz-form-label class="fs-12">Chọn dự án</nz-form-label>
                    <nz-form-control>
                        <nz-select style="width: 200px" [(ngModel)]="filters.projectId" name="projectId" nzShowSearch
                            nzAllowClear nzSize="small" nzPlaceHolder="Chọn dự án">
                            <nz-option *ngFor="let item of dtproject"
                                [nzLabel]="item.ProjectCode + '--' + item.ProjectName"
                                [nzValue]="item.ID"></nz-option>
                        </nz-select>
                    </nz-form-control>
                </nz-form-item>
                
                <nz-form-item class="mb-0">
                    <nz-form-label class="fs-12">Từ khóa</nz-form-label>
                    <nz-form-control>
                        <input nz-input placeholder="Nhập từ khóa" nzSize="small" [(ngModel)]="filters.keyword"
                            name="keyword" style="width: 150px" />
                    </nz-form-control>
                </nz-form-item>
                
                <nz-form-item class="mb-0" *ngIf="activeTabId == -1">
                    <nz-form-label class="fs-12">PO</nz-form-label>
                    <nz-form-control>
                        <nz-select style="width: 150px" nzShowSearch nzAllowClear nzPlaceHolder="Chọn PO"
                            nzSize="small" [(ngModel)]="filters.poKHID" name="poKHID">
                            <nz-option *ngFor="let item of dtPOKH" [nzLabel]="item.POCode"
                                [nzValue]="item.ID"></nz-option>
                        </nz-select>
                    </nz-form-control>
                </nz-form-item>
                
                <nz-form-item class="mb-0">
                    <nz-form-control>
                        <div class="d-flex gap-1">
                            <!-- <button nz-button nzType="default" nzSize="small" (click)="ResetFilters()">
                                Đặt lại
                            </button> -->
                            <button nz-button nzType="primary" nzSize="small" (click)="ApplyFilters()">
                                Tìm kiếm
                            </button>
                        </div>
                    </nz-form-control>
                </nz-form-item>
            </form>
        </div>

        <!-- Content với tabs động -->
        <div class="card-body p-0" [class.with-search-bar]="showSearchBar" [class.without-search-bar]="!showSearchBar">
            <div class="custom-tabs-container">
                <ul class="nav nav-tabs" id="customTab" role="tablist">
                    <li class="nav-item" role="presentation"
                        *ngFor="let type of getVisibleProjectTypes(); let i = index">
                        <a class="nav-link" [class.active]="activeTabId === type.ProjectTypeID"
                            [id]="'tab-' + type.ProjectTypeID"
                            href="javascript:void(0)" role="tab"
                            [attr.aria-controls]="'pane-' + type.ProjectTypeID"
                            [attr.aria-selected]="activeTabId === type.ProjectTypeID"
                            (click)="$event.preventDefault(); $event.stopPropagation(); SelectProjectType(type.ProjectTypeID, $event)">
                            {{ type.ProjectTypeName | uppercase }}
                        </a>
                    </li>
                </ul>

                <div class="tab-content p-0" id="customTabContent">
                    <div class="tab-pane fade" *ngFor="let type of getVisibleProjectTypes()"
                        [class.show]="activeTabId === type.ProjectTypeID"
                        [class.active]="activeTabId === type.ProjectTypeID"
                        [id]="'pane-' + type.ProjectTypeID" role="tabpanel"
                        [attr.aria-labelledby]="'tab-' + type.ProjectTypeID">
                        <div class="table-container p-1">
                            <div [id]="'datatable-' + type.ProjectTypeID"
                                class="tabulator-container container-fluid p-0"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-container>

<ng-template #rejectReasonTpl>
    <div class="mb-2">Vui lòng nhập lý do từ chối:</div>
    <textarea nz-input [(ngModel)]="rejectReason" rows="3" placeholder="Nhập lý do..." class="w-100"></textarea>
</ng-template>

<ng-template #requestBuyTpl>
    <div class="mb-2">
        <label class="form-label">Deadline</label>
        <nz-date-picker [(ngModel)]="requestBuyDeadline" nzFormat="dd/MM/yyyy" class="w-100"
            nzSize="small"></nz-date-picker>
    </div>
</ng-template>

<app-tabulator-popup *ngIf="showSupplierPopup" [data]="dtSupplierSale" [columns]="supplierColumns"
    [searchFields]="supplierSearchFields" [height]="'300px'" (rowSelected)="onSupplierSelected($event)"
    (closed)="onSupplierPopupClosed()" [style.position]="'absolute'" [style.top]="supplierPopupPosition.top"
    [style.left]="supplierPopupPosition.left" [style.zIndex]="1000" [style.width]="'500px'"></app-tabulator-popup>

<app-project-partlist-price-request-form *ngIf="showDetailModal" [dataInput]="modalData"
    (formSubmitted)="OnFormSubmit()" (closeModal)="showDetailModal = false">
</app-project-partlist-price-request-form>