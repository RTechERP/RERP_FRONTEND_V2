<div class="card border-0 rounded-0 h-100 d-flex flex-column">
    <!-- Header với search và buttons -->
    <div class="card-header bg-white p-2 flex-shrink-0">
        <div class="d-flex justify-content-between align-items-center flex-wrap gap-2">
            <h6 class="m-0 text-uppercase fw-bold">Kế hoạch công việc cá nhân</h6>
            <div class="d-flex gap-2 align-items-center flex-wrap">
                <!-- Search form -->
                <nz-row [nzGutter]="[8, 8]" class="flex-grow-1">
                    <nz-col [nzXs]="24" [nzSm]="12" [nzMd]="8" [nzLg]="6">
                        <div class="form-field-vertical">
                            <label>Từ ngày</label>
                            <nz-date-picker 
                                [(ngModel)]="dateStart" 
                                nzPlaceHolder="Từ ngày" 
                                nzFormat="dd/MM/yyyy"
                                nzSize="small"
                                name="dateStart"
                                style="width: 100%;">
                            </nz-date-picker>
                        </div>
                    </nz-col>
                    
                    <nz-col [nzXs]="24" [nzSm]="12" [nzMd]="8" [nzLg]="6">
                        <div class="form-field-vertical">
                            <label>Đến ngày</label>
                            <nz-date-picker 
                                [(ngModel)]="dateEnd" 
                                nzPlaceHolder="Đến ngày" 
                                nzFormat="dd/MM/yyyy"
                                nzSize="small"
                                name="dateEnd"
                                style="width: 100%;">
                            </nz-date-picker>
                        </div>
                    </nz-col>

                    <nz-col [nzXs]="24" [nzSm]="12" [nzMd]="8" [nzLg]="6">
                        <div class="form-field-vertical">
                            <label>Từ khóa</label>
                            <input 
                                nz-input 
                                placeholder="Từ khóa..." 
                                [(ngModel)]="keyword"
                                nzSize="small"
                                name="keyword"
                                style="width: 100%;" />
                        </div>
                    </nz-col>

                    <nz-col [nzXs]="24" [nzSm]="12" [nzMd]="8" [nzLg]="6">
                        <div class="form-field-vertical">
                            <label>&nbsp;</label>
                            <div class="d-flex gap-2">
                                <button nz-button nzType="default" nzSize="small" (click)="resetSearch()">
                                    Đặt lại
                                </button>
                                
                                <button nz-button nzType="primary" nzSize="small" (click)="onSearch()">
                                    <span nz-icon nzType="search"></span>
                                    Tìm kiếm
                                </button>
                            </div>
                        </div>
                    </nz-col>
                </nz-row>
            </div>
        </div>
    </div>

    <!-- Table -->
    <div class="card-body p-1 position-relative flex-grow-1" style="min-height: 0; height: 100%;">
        <nz-spin [nzSpinning]="isLoading" nzTip="Đang tải dữ liệu..." style="height: 100%;">
            <div #workplanTable style="height: 100%;"></div>
        </nz-spin>
    </div>
</div>