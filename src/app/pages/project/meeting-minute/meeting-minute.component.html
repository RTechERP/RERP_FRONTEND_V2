<ng-container class="w-100">
<nz-splitter>
  <nz-splitter-panel [nzSize]="sizeSearch" [nzCollapsible]="true">
    <div class="card h-100 border-0 rounded-0">
      <div class="card-header bg-white p-1">
        <div class="d-flex justify-content-between align-items-center">
          <h6 class="m-0 ms-2">Tìm kiếm</h6>
          <button
            class="border-0 me-2"
            nz-button
            nzSize="small"
            nzType="default"
            nzDanger
            (click)="toggleSearchPanel()"
          >
            <nz-icon nzType="close" nzTheme="outline" />
          </button>
        </div>
      </div>
      <div class="card-body">
        <form nz-form nzLayout="vertical">
          <!-- Date range -->
          <nz-form-item>
            <nz-form-label class="fs-12" [nzSpan]="24">Từ ngày</nz-form-label>
            <nz-form-control [nzSpan]="24">
              <nz-date-picker
                [nzFormat]="dateFormat"
                class="w-100"
                nzSize="default"
                [(ngModel)]="searchParams.DateStart"
                name="dateStart"
              >
              </nz-date-picker>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item class="mt-2">
            <nz-form-label class="fs-12" [nzSpan]="24">Đến ngày</nz-form-label>
            <nz-form-control [nzSpan]="24">
              <nz-date-picker
                [nzFormat]="dateFormat"
                class="w-100"
                nzSize="default"
                [(ngModel)]="searchParams.DateEnd"
                name="dateEnd"
              ></nz-date-picker>
            </nz-form-control>
          </nz-form-item>
          <!-- cbb loại cuộc họp -->
          <nz-form-item class="mt-2">
            <nz-form-label class="fs-12" [nzSpan]="24"
              >Chọn loại cuộc họp
            </nz-form-label>
            <nz-form-control [nzSpan]="24">
              <nz-form-control [nzSpan]="24">
                <nz-select
                  [(ngModel)]="searchParams.MeetingTypeID"
                  [ngModelOptions]="{ standalone: true }"
                  nzPlaceHolder="Chọn loại phòng họp"
                  nzShowSearch nzAllowClear
                  style="width: 100%"
                  name="meetingTypeID"
                  nzSize="default"
                >
                  <nz-option-group
                    *ngFor="let group of meetingTypeGroupsData"
                    [nzLabel]="getGroupName(group.GroupID)"
                  >
                    <nz-option
                      *ngFor="let room of group.Rooms"
                      [nzLabel]="room.TypeCode + ' - ' + room.TypeName"
                      [nzValue]="room.ID"
                    ></nz-option>
                  </nz-option-group>
                </nz-select>
              </nz-form-control>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item class="mt-2">
            <nz-form-label class="fs-12" [nzSpan]="24">Từ khóa</nz-form-label>
            <nz-form-control [nzSpan]="24">
              <input
                class="w-100"
                nz-input
                nzSize="default"
                placeholder="Nhập từ khóa"
                [(ngModel)]="searchParams.Keywords"
                name="keyword"
                
              />
            </nz-form-control>
          </nz-form-item>
        </form>
      </div>
      <div class="card-footer bg-white p-1 d-flex gap-1 justify-content-end">
        <button nz-button nzType="default" nzSize="small" (click)="resetform()">
          Đặt lại
        </button>
        <button
          nz-button
          nzType="primary"
          nzSize="small"
          (click)="searchData()"
        >
          Tìm kiếm
        </button>
      </div>
    </div>
  </nz-splitter-panel>
  <nz-splitter-panel>
      <div class="card border-0 rounded-0">
          <div class="card-header bg-white p-1" style="overflow-x: auto">
            <div class="d-flex gap-1">
              <button
                nz-button
                nzType="default"
                nzSize="small"
                (click)="toggleSearchPanel()"
              >
                <nz-icon nzType="search" />
              </button>
              <button
              nz-button nzSize="small" class="fs-12 button button-succes btn-add" 
                (click)="onAddMeetingMinutes(false)" 
              >
              <img src="assets/icon/action_add_item_16.png" alt="Thêm mới "  /> Thêm
              </button>
              <button
              class="fs-12 btn-edit" nz-button nzType="default" nzSize="small" nzD 
                (click)="onAddMeetingMinutes(true)"
              >
              <img src="assets/icon/action_edit_item_16.png" alt="Sửa"> Sửa
              </button>
              <button
              class="fs-12 btn-delete" nz-button nzType="default" nzSize="small" nzDanger 
                (click)="onDeleteMeetingMinutes()"
              >
              <img src="assets/icon/action_delete_item_16.png" alt="Xóa " /> Xóa
              </button>
              <button
              nz-button nzType="default" nzSize="small" class="fs-12 btn"
                (click)="exportExcel()"
              >
              <img src="assets/icon/action_export_excel_16.png" alt="Xuất Excel" class="me-1" /> Xuất Excel
              </button>
            </div>
          </div>       
          <div class="card-body p-0" style="height: calc(100vh - 120px);">
            <nz-splitter nzLayout="vertical" style="height: 100%;">   
            <nz-splitter-panel nzDefaultSize="50%" nzMin="30%" nzMax="70%">
             <div id="MeetingMinutes" style="height: 100%; min-height: 300px;"></div>
            </nz-splitter-panel>
           <nz-splitter-panel nzDefaultSize="50%" nzMin="30%" nzMax="70%">
          <nz-tabset (nzSelectedIndexChange)="onMainTabChange($event)" style="height: 100%;">
            <nz-tab nzTitle="Nhân viên">
                <nz-tabset (nzSelectedIndexChange)="onTabChange($event)" style="height: 100%;">
                  <nz-tab nzTitle="Nhân viên tham gia">
                      <div id="Employee" style="height: 100%; min-height: 350px;"></div>
                  </nz-tab>
                  <nz-tab nzTitle="Nội dung">
                      <div #EmployeeContentNE id="EmployeeContentNE" style="height: 100%; min-height: 350px;"></div>
                  </nz-tab>
                </nz-tabset>
            </nz-tab>
            <nz-tab nzTitle="Khách hàng">
                <nz-tabset (nzSelectedIndexChange)="onCustomerTabChange($event)" style="height: 100%;">
                  <nz-tab nzTitle="Khách hàng tham gia">
                      <div id="Customer" style="height: 100%; min-height: 350px;"></div>
                  </nz-tab>
                  <nz-tab nzTitle="Nội dung">
                      <div id="CustomerContent" style="height: 100%; min-height: 350px;"></div>
                  </nz-tab>
                </nz-tabset>
            </nz-tab>
            <nz-tab nzTitle="File đính kèm">
              <div id="file_table" #fileTableContainer style="height: 100%; min-height: 330px; overflow: hidden; display: flex; flex-direction: column;"></div>
            </nz-tab>
          </nz-tabset>
          </nz-splitter-panel>
        </nz-splitter>
          </div>
    </div>
  </nz-splitter-panel>
</nz-splitter>
</ng-container>
